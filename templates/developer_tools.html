{% extends "base.html" %}

{% block title %}Тестовые инструменты - Minecraft Marketplace{% endblock %}

{% block content %}
<h2>Тестовые инструменты для разработчиков</h2>

<div class="build-cards">
    <div class="build-card">
        <h3 class="build-title">Имитация покупки</h3>
        <p class="build-description">Тестирование процесса покупки сборки без реальной оплаты.</p>
        <form method="POST" action="{{ url_for('simulate_purchase') }}">
            <div class="form-group">
                <label class="form-label">Выберите сборку</label>
                <select name="build_id" class="form-input" required>
                    <option value="">Выберите сборку</option>
                    {% for build in builds %}
                    <option value="{{ build.id }}">{{ build.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <button type="submit" class="btn">Имитировать покупку</button>
        </form>
    </div>

    <div class="build-card">
        <h3 class="build-title">Генерация лицензии</h3>
        <p class="build-description">Создание временной лицензии для тестирования.</p>
        <form method="POST" action="{{ url_for('generate_test_license') }}">
            <div class="form-group">
                <label class="form-label">Пользователь ID</label>
                <input type="number" name="user_id" class="form-input" placeholder="1" required>
            </div>
            <div class="form-group">
                <label class="form-label">Сборка ID</label>
                <select name="build_id" class="form-input" required>
                    <option value="">Выберите сборку</option>
                    {% for build in builds %}
                    <option value="{{ build.id }}">{{ build.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Срок действия (часы)</label>
                <input type="number" name="duration" class="form-input" value="24" min="1" max="168">
            </div>
            <button type="submit" class="btn">Сгенерировать лицензию</button>
        </form>
    </div>

    <div class="build-card">
        <h3 class="build-title">Тестирование API</h3>
        <p class="build-description">Проверка работы API эндпоинтов.</p>
        <a href="{{ url_for('api_settings') }}" class="btn">Открыть документацию API</a>
    </div>
</div>

<h3 style="margin-top: 30px;">Статистика тестирования</h3>
<div style="background-color: #1a1a2e; padding: 20px; border-radius: 8px;">
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
        <div style="text-align: center;">
            <h4>50</h4>
            <p>Имитаций покупок</p>
        </div>
        <div style="text-align: center;">
            <h4>127</h4>
            <p>Сгенерированных лицензий</p>
        </div>
        <div style="text-align: center;">
            <h4>23</h4>
            <p>Тестовых API вызовов</p>
        </div>
    </div>
</div>
{% endblock %}